{"version":3,"sources":["../../src/util/builder.js"],"names":["_","Builder","options","seriesList","map","_buildDotFor","series","points","_cleanup","name","target","oldestValue","_oldestValueFor","latestValue","_latestValueFor","filter","datapoints","point","length"],"mappings":";;;;;;;;;;;;;;;AAAOA,O;;;;;;;;;;;;;;;;;;;;;yBAEMC,O;AACX,yBAAaC,OAAb,EAAsB;AAAA;;AACpB,eAAKA,OAAL,GAAeA,OAAf;AACD;;;;iCAEsB;AAAA;;AAAA,gBAAjBC,UAAiB,uEAAJ,EAAI;;AACrB,mBAAOA,WAAWC,GAAX,CAAe;AAAA,qBAAU,MAAKC,YAAL,CAAkBC,MAAlB,CAAV;AAAA,aAAf,CAAP;AACD;;;uCAEaA,M,EAAQ;AACpB,gBAAIC,SAAS,KAAKC,QAAL,CAAcF,MAAd,CAAb;;AAEA,mBAAO,EAAEG,MAAMH,OAAOI,MAAf;AACLC,2BAAa,KAAKC,eAAL,CAAqBL,MAArB,CADR;AAELM,2BAAa,KAAKC,eAAL,CAAqBP,MAArB,CAFR,EAAP;AAGD;;;mCAESD,M,EAAQ;AAChB,mBAAON,EAAEe,MAAF,CAAST,OAAOU,UAAhB,EAA4B,UAACC,KAAD;AAAA,qBAAWA,MAAM,CAAN,KAAY,IAAvB;AAAA,aAA5B,CAAP;AACD;;;0CAEgBV,M,EAAQ;AACvB,gBAAIU,QAAQV,OAAO,CAAP,CAAZ;AACA,mBAAOU,QAAQA,MAAM,CAAN,CAAR,GAAmB,IAA1B;AACD;;;0CAEgBV,M,EAAQ;AACvB,gBAAIU,QAAQV,OAAOA,OAAOW,MAAP,GAAgB,CAAvB,CAAZ;AACA,mBAAOD,QAAQA,MAAM,CAAN,CAAR,GAAmB,IAA1B;AACD","file":"builder.js","sourcesContent":["import _ from 'lodash'\n\nexport class Builder {\n  constructor (options) {\n    this.options = options\n  }\n\n  call (seriesList = []) {\n    return seriesList.map(series => this._buildDotFor(series))\n  }\n\n  _buildDotFor (series) {\n    var points = this._cleanup(series)\n\n    return { name: series.target,\n      oldestValue: this._oldestValueFor(points),\n      latestValue: this._latestValueFor(points) }\n  }\n\n  _cleanup (series) {\n    return _.filter(series.datapoints, (point) => point[0] != null)\n  }\n\n  _oldestValueFor (points) {\n    var point = points[0]\n    return point ? point[0] : null\n  }\n\n  _latestValueFor (points) {\n    var point = points[points.length - 1]\n    return point ? point[0] : null\n  }\n}\n"]}